<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VoiceBridge AAC</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: var(
          --font-family,
          "Segoe UI",
          Tahoma,
          Geneva,
          Verdana,
          sans-serif
        );
      }

      :root {
        --button-radius: 50px;
        --button-padding: 12px 16px;
        --font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        --font-size: 18px;
        --button-color: #a8e6cf;
        --category-button-radius: 50px;
      }

      body {
        background: linear-gradient(135deg, #f5f7fa, #e4e8f0);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        width: 100%;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        background: #ffffff;
        border-radius: 28px;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      .app-header {
        padding: 20px 25px;
        background: linear-gradient(to right, #a8e6cf, #dcedc1);
        border-bottom: 1px solid #e0e0e0;
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .app-title {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 0;
        flex: 1;
      }

      .app-name {
        font-size: 28px;
        font-weight: 700;
        color: #2d3436;
        letter-spacing: 0.5px;
      }

      .app-version {
        font-size: 14px;
        color: #636e72;
        font-weight: 500;
      }

      .header-buttons {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        position: absolute;
        top: 20px;
        left: 0;
        right: 0;
        padding: 0 25px;
      }

      /* Language button on left */
      .language-switcher {
        order: 1;
      }

      /* Settings button on right */
      .settings-container {
        order: 3;
      }

      .header-btn {
        padding: 12px 20px;
        border-radius: var(--button-radius);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
        font-weight: 600;
        color: #5a5a5a;
        border: 2px solid #e0e0e0;
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
        min-width: 100px;
        height: 44px;
      }

      .header-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
      }

      .message-container {
        padding: 15px 25px;
        background: #f0f4f8;
        border-bottom: 1px solid #e0e0e0;
        display: flex;
        align-items: flex-start;
        gap: 15px;
      }

      /* INCREASED: Message display height */
      .message-display {
        background: white;
        border-radius: 16px;
        padding: 20px;
        text-align: center;
        font-size: 22px;
        color: #2d3436;
        min-height: 100px;
        max-height: 140px;
        overflow-y: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        word-wrap: break-word;
        border: 2px solid #e0e0e0;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
        flex: 1;
      }

      /* NEW: Buttons container outside message display */
      .message-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 120px;
      }

      /* CHANGED: Speak button now light pastel blue and positioned first */
      .speak-btn {
        padding: var(--button-padding);
        border-radius: var(--button-radius);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: var(--font-size);
        font-weight: 600;
        background: linear-gradient(
          135deg,
          #a8d8ff,
          #87ceeb
        ); /* Light pastel blue */
        color: #2d3436;
        border: 2px solid #87ceeb;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 100%;
        height: 44px;
      }

      .speak-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      /* CHANGED: Clear button now light red and positioned second */
      .clear-btn {
        padding: var(--button-padding);
        border-radius: var(--button-radius);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: var(--font-size);
        font-weight: 600;
        color: #5a5a5a;
        background: linear-gradient(135deg, #ffb3b3, #ff9999); /* Light red */
        border: 2px solid #ff9999;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
        width: 100%;
        height: 44px;
      }

      .clear-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
      }

      .instruction-bar {
        padding: 12px 25px;
        background: #f0f4f8;
        text-align: center;
        font-size: 18px;
        color: #5a5a5a;
        border-bottom: 1px solid #e0e0e0;
        font-weight: 500;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
      }

      .instruction-text {
        flex-grow: 1;
        text-align: center;
      }

      .keyboard-instruction-btn {
        padding: 12px 20px;
        border-radius: var(--button-radius);
        border: none;
        background: linear-gradient(135deg, #a8e6cf, #88d4b5);
        color: #2d3436;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: var(--font-size);
        height: 44px;
        min-width: 100px;
        border: 2px solid #e0e0e0;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
      }

      .keyboard-instruction-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
      }

      .app-body {
        padding: 15px 30px 30px;
        background-color: #f8f9fa;
      }

      .categories-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-bottom: 30px;
      }

      .category-button {
        height: 160px;
        border-radius: var(--category-button-radius);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        border: none;
        color: #2d3436;
        font-weight: 700;
        font-size: var(--font-size);
        text-align: center;
        border: 2px solid #e0e0e0;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1),
          0 6px 6px rgba(0, 0, 0, 0.05), inset 0 -4px 6px rgba(0, 0, 0, 0.05),
          inset 0 4px 6px rgba(255, 255, 255, 0.8);
      }

      .category-button:active {
        transform: translateY(4px);
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.08),
          inset 0 -2px 4px rgba(0, 0, 0, 0.05),
          inset 0 2px 4px rgba(255, 255, 255, 0.8);
      }

      .button-icon {
        font-size: 40px;
        margin-bottom: 12px;
        filter: drop-shadow(0 3px 5px rgba(0, 0, 0, 0.1));
      }

      /* Diverse color palette for categories */
      .category-1 {
        background: linear-gradient(135deg, #ffd6e7, #ffb6d9);
      }
      .category-2 {
        background: linear-gradient(135deg, #c9f0ff, #a0e7ff);
      }
      .category-3 {
        background: linear-gradient(135deg, #d4ffd4, #b5f5b5);
      }
      .category-4 {
        background: linear-gradient(135deg, #ffe8c9, #ffd8a8);
      }
      .category-5 {
        background: linear-gradient(135deg, #e8d4ff, #d8c4f0);
      }
      /* CHANGED: Activities to light pastel pink */
      .category-6 {
        background: linear-gradient(
          135deg,
          #ffd1dc,
          #ffb6c1
        ); /* Light pastel pink */
      }
      /* CHANGED: Places to light pastel green */
      .category-7 {
        background: linear-gradient(
          135deg,
          #d4ffd4,
          #b5f5b5
        ); /* Light pastel green */
      }
      .category-8 {
        background: linear-gradient(135deg, #d4f0f0, #b5e8e8);
      }
      .category-9 {
        background: linear-gradient(135deg, #f0e8d4, #e8dcb5);
      }
      .category-10 {
        background: linear-gradient(135deg, #ffcccb, #ffb6c1);
      }
      .category-11 {
        background: linear-gradient(135deg, #e0d4ff, #d0c4f0);
      }
      .category-12 {
        background: linear-gradient(135deg, #d4ffed, #b5f5dd);
      }
      .category-13 {
        background: linear-gradient(135deg, #ffd8a8, #ffc58a);
      }

      /* Category Detail Page Styles */
      .category-detail {
        display: none;
        padding: 25px 30px;
        background-color: #f8f9fa;
        min-height: 400px;
      }

      .category-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 2px solid #e0e0e0;
      }

      .back-button {
        padding: 12px 20px;
        border-radius: var(--button-radius);
        border: none;
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        color: #5a5a5a;
        font-weight: 600;
        cursor: pointer;
        border: 2px solid #e0e0e0;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        height: 44px;
      }

      /* FIXED: Category title properly centered */
      .category-title {
        font-size: 28px;
        font-weight: 700;
        color: #2d3436;
        text-align: center;
        flex-grow: 1;
        margin: 0;
        position: relative;
        left: -40px; /* Move to the left to center properly */
      }

      .category-instruction {
        font-size: 18px;
        color: #636e72;
        font-weight: 500;
        font-style: italic;
        text-align: center;
        width: 100%;
        margin-top: 10px;
        margin-bottom: 20px;
      }

      .words-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
        margin-bottom: 20px;
      }

      .word-button {
        height: 120px;
        border-radius: var(--button-radius);
        border: none;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        font-size: var(--font-size);
        color: #2d3436;
        border: 2px solid #e0e0e0;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }

      .word-button:active {
        transform: translateY(3px);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
      }

      .word-icon {
        font-size: 32px;
        margin-bottom: 8px;
        filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.1));
      }

      .footer {
        padding: 15px;
        text-align: center;
        color: #777;
        font-size: 14px;
        background-color: rgba(255, 255, 255, 0.9);
        border-top: 1px solid #eee;
      }

      /* Language button matches settings button size and color */
      .lang-btn {
        padding: 12px 20px;
        border-radius: var(--button-radius);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: var(--font-size);
        font-weight: 600;
        color: #5a5a5a;
        border: 2px solid #e0e0e0;
        background: linear-gradient(
          135deg,
          #f0f0f0,
          #e0e0e0
        ); /* Same color as settings */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
        height: 44px;
        min-width: 100px;
      }

      .lang-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
      }

      /* AI Suggestions Section */
      .ai-suggestions {
        margin-top: 20px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 12px;
        border: 1px solid #e0e0e0;
      }

      .ai-suggestions-title {
        font-weight: 600;
        margin-bottom: 15px;
        color: #5a5a5a;
        text-align: center;
        font-size: 20px;
      }

      .suggestion-group {
        margin-bottom: 20px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 10px;
        border: 1px solid #e0e0e0;
      }

      .suggestion-group-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
      }

      .suggestion-group strong {
        color: #5a5a5a;
        font-size: 18px;
        white-space: nowrap;
      }

      .ai-suggestions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 12px;
      }

      .ai-suggestion-btn {
        padding: 14px 16px;
        border-radius: 12px;
        border: none;
        background: linear-gradient(135deg, #a8e6cf, #88d4b5);
        color: #2d3436;
        font-weight: 600;
        cursor: pointer;
        font-size: 18px;
        transition: all 0.2s ease;
        white-space: nowrap;
        text-align: center;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .ai-suggestion-btn:active {
        transform: translateY(2px);
      }

      /* NEW: Keyboard Modal Styles */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .modal-content {
        background: white;
        border-radius: 20px;
        padding: 25px;
        width: 95%;
        max-width: 900px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }

      .settings-modal-content {
        max-height: 85vh;
        min-height: 600px;
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #e0e0e0;
      }

      .modal-title {
        font-size: 24px;
        font-weight: 700;
        color: #2d3436;
      }

      .close-modal {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #5a5a5a;
      }

      .keyboard-grid {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        gap: 8px;
        margin-bottom: 15px;
      }

      .keyboard-row {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-bottom: 8px;
      }

      .keyboard-key {
        padding: 12px 8px;
        border-radius: 8px;
        border: 2px solid #e0e0e0;
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        font-weight: 600;
        cursor: pointer;
        text-align: center;
        min-width: 40px;
        transition: all 0.2s ease;
      }

      .keyboard-key:active {
        transform: translateY(2px);
        background: linear-gradient(135deg, #e0e0e0, #d0d0d0);
      }

      .keyboard-space {
        grid-column: span 5;
        padding: 12px;
        margin-top: 10px;
      }

      .keyboard-special {
        background: linear-gradient(135deg, #a8d8ff, #87ceeb);
      }

      /* NEW: Customize Modal Styles */
      .customize-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      .customize-group {
        margin-bottom: 20px;
      }

      .customize-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #5a5a5a;
      }

      .customize-select,
      .customize-input {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: 2px solid #e0e0e0;
        font-size: 16px;
      }

      .color-dropdown {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: 2px solid #e0e0e0;
        font-size: 16px;
        background: white;
        cursor: pointer;
      }

      .color-option {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px;
      }

      .color-sample {
        width: 20px;
        height: 20px;
        border-radius: 4px;
        border: 1px solid #ccc;
      }

      .voice-options {
        display: flex;
        gap: 15px;
        margin-top: 10px;
      }

      .voice-option {
        flex: 1;
        padding: 12px;
        border-radius: 8px;
        border: 2px solid #e0e0e0;
        background: #f0f0f0;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .voice-option.active {
        background: #a8e6cf;
        border-color: #88d4b5;
      }

      /* NEW: Active button styles */
      .category-button.active {
        border: 3px solid #2d3436;
        box-shadow: 0 0 10px rgba(45, 52, 54, 0.5);
      }

      .word-button.active {
        border: 3px solid #2d3436;
        box-shadow: 0 0 10px rgba(45, 52, 54, 0.5);
      }

      @media (max-width: 768px) {
        .categories-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .words-grid {
          grid-template-columns: repeat(3, 1fr);
        }

        .app-header {
          flex-direction: column;
          gap: 15px;
        }

        .header-buttons {
          position: static;
          margin-top: 10px;
          justify-content: space-between;
        }

        .ai-suggestions-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .category-header {
          flex-direction: column;
          gap: 10px;
        }

        .back-button {
          align-self: flex-start;
        }

        .category-title {
          left: 0;
          text-align: center;
        }

        .ai-suggestion-btn {
          font-size: 16px;
          padding: 12px 14px;
        }

        /* Mobile adjustments for message container */
        .message-container {
          flex-direction: column;
        }

        .message-buttons {
          flex-direction: row;
          width: 100%;
          margin-top: 10px;
        }

        .message-display {
          width: 100%;
        }

        .keyboard-grid {
          grid-template-columns: repeat(6, 1fr);
        }

        .customize-options {
          grid-template-columns: 1fr;
        }

        .instruction-bar {
          flex-direction: column;
          gap: 10px;
        }

        .instruction-text {
          position: static;
          transform: none;
          order: 2;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="app-header">
        <div class="app-title">
          <div class="app-name" id="appName">VoiceBridge</div>
          <div class="app-version" id="appDescription">
            AAC Communication App for Children
          </div>
        </div>

        <div class="header-buttons">
          <!-- Language button on left -->
          <div class="language-switcher">
            <button class="lang-btn" id="languageBtn">العربية</button>
          </div>

          <!-- Settings button on right -->
          <div class="settings-container">
            <button class="header-btn settings-btn" id="settingsBtn">
              <i class="fas fa-cog"></i> <span id="settingsText">Settings</span>
            </button>
          </div>
        </div>
      </div>

      <div class="message-container">
        <div class="message-display" id="messageDisplay">
          <span id="messageText">Your message will appear here</span>
        </div>
        <!-- NEW: Buttons container outside message display -->
        <div class="message-buttons">
          <!-- CHANGED: Speak button first (light pastel blue) -->
          <button class="speak-btn" id="speakBtn">
            <i class="fas fa-volume-up"></i> <span id="speakText">Speak</span>
          </button>
          <!-- CHANGED: Clear button second (light red) -->
          <button class="clear-btn" id="clearBtn">
            <i class="fas fa-broom"></i> <span id="clearText">Clear</span>
          </button>
        </div>
      </div>

      <div class="instruction-bar">
        <!-- NEW: Keyboard button in instruction bar -->
        <button class="keyboard-instruction-btn" id="keyboardInstructionBtn">
          <i class="fas fa-keyboard"></i>
          <span id="keyboardText">Keyboard</span>
        </button>

        <span class="instruction-text" id="instructionText"
          >Tap the required category to build a sentence</span
        >
      </div>

      <!-- Main Categories Page -->
      <div class="app-body" id="mainPage">
        <div class="categories-grid">
          <button class="category-button category-1" data-category="Food">
            <div class="button-icon">🍎</div>
            <div id="foodText">Food</div>
          </button>

          <button class="category-button category-2" data-category="Drink">
            <div class="button-icon">🥤</div>
            <div id="drinkText">Drink</div>
          </button>

          <button class="category-button category-3" data-category="Bathroom">
            <div class="button-icon">🚽</div>
            <div id="bathroomText">Bathroom</div>
          </button>

          <button class="category-button category-4" data-category="Feelings">
            <div class="button-icon">😊</div>
            <div id="feelingsText">Feelings</div>
          </button>

          <button class="category-button category-5" data-category="People">
            <div class="button-icon">👨‍👩‍👧‍👦</div>
            <div id="peopleText">People</div>
          </button>

          <!-- CHANGED: Activities to light pastel pink -->
          <button class="category-button category-6" data-category="Activities">
            <div class="button-icon">🎮</div>
            <div id="activitiesText">Activities</div>
          </button>

          <!-- CHANGED: Places to light pastel green -->
          <button class="category-button category-7" data-category="Places">
            <div class="button-icon">🏠</div>
            <div id="placesText">Places</div>
          </button>

          <button class="category-button category-8" data-category="Body">
            <div class="button-icon">👋</div>
            <div id="bodyText">Body Parts</div>
          </button>

          <button class="category-button category-9" data-category="Time">
            <div class="button-icon">⏰</div>
            <div id="timeText">Time</div>
          </button>

          <button class="category-button category-10" data-category="Bahrain">
            <div class="button-icon">🇧🇭</div>
            <div id="bahrainText">Bahrain</div>
          </button>

          <!-- NEW CATEGORIES -->
          <button class="category-button category-11" data-category="School">
            <div class="button-icon">🏫</div>
            <div id="schoolText">My School</div>
          </button>

          <button class="category-button category-12" data-category="Events">
            <div class="button-icon">🎉</div>
            <div id="eventsText">Events</div>
          </button>

          <!-- NEW: Questions category -->
          <button class="category-button category-13" data-category="Questions">
            <div class="button-icon">❓</div>
            <div id="questionsCatText">Questions</div>
          </button>
        </div>
      </div>

      <!-- Category Detail Page (Hidden by default) -->
      <div class="category-detail" id="categoryDetail">
        <!-- This will be populated by JavaScript -->
      </div>

      <div class="footer">
        <span id="footerText">VoiceBridge Version 1.0</span>
      </div>
    </div>

    <!-- NEW: Keyboard Modal -->
    <div class="modal-overlay" id="keyboardModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="keyboardModalTitle">Keyboard</h2>
          <button class="close-modal" id="closeKeyboardModal">&times;</button>
        </div>
        <div id="keyboardContent">
          <!-- Keyboard content will be populated by JavaScript -->
        </div>
      </div>
    </div>

    <!-- NEW: Settings Modal (includes customization) -->
    <div class="modal-overlay" id="settingsModal">
      <div class="modal-content settings-modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="settingsModalTitle">Settings</h2>
          <button class="close-modal" id="closeSettingsModal">&times;</button>
        </div>
        <div class="customize-options">
          <div class="customize-group">
            <label
              class="customize-label"
              id="buttonStyleLabel"
              for="buttonStyle"
              >Button Shape</label
            >
            <select class="customize-select" id="buttonStyle">
              <option value="pill" selected>Pill</option>
              <option value="rounded">Rounded</option>
              <option value="square">Square</option>
              <option value="oval">Oval</option>
            </select>
          </div>
          <div class="customize-group">
            <label class="customize-label" id="buttonSizeLabel" for="buttonSize"
              >Font Size</label
            >
            <select class="customize-select" id="buttonSize">
              <option value="small">Small</option>
              <option value="medium" selected>Medium</option>
              <option value="large">Large</option>
            </select>
          </div>
          <div class="customize-group">
            <label class="customize-label" id="fontFamilyLabel" for="fontFamily"
              >Font Family</label
            >
            <select class="customize-select" id="fontFamily">
              <option value="Segoe UI" selected>Segoe UI</option>
              <option value="Arial">Arial</option>
              <option value="Comic Sans MS">Comic Sans MS</option>
              <option value="Verdana">Verdana</option>
            </select>
          </div>
          <div class="customize-group">
            <label class="customize-label" id="buttonColorLabel"
              >Button Color</label
            >
            <select class="color-dropdown" id="buttonColorDropdown">
              <option value="#a8e6cf">Light Green</option>
              <option value="#ffb6c1">Light Pink</option>
              <option value="#a8d8ff">Light Blue</option>
              <option value="#ffe8c9">Light Orange</option>
              <option value="#e8d4ff">Light Purple</option>
              <option value="#d4ffd4">Light Mint</option>
              <option value="#ffd6e7">Light Rose</option>
              <option value="#c9f0ff">Light Sky Blue</option>
            </select>
          </div>
          <div class="customize-group">
            <label class="customize-label" id="voiceSelectionLabel"
              >Voice Selection</label
            >
            <div class="voice-options">
              <div class="voice-option active" data-voice="boy">
                <i class="fas fa-male"></i>
                <div id="boyVoiceText">Boy</div>
              </div>
              <div class="voice-option" data-voice="girl">
                <i class="fas fa-female"></i>
                <div id="girlVoiceText">Girl</div>
              </div>
            </div>
          </div>
        </div>
        <div style="margin-top: 20px; text-align: center">
          <button
            class="header-btn"
            id="applyCustomization"
            style="padding: 12px 24px"
          >
            <i class="fas fa-check"></i>
            <span id="applyText">Apply Changes</span>
          </button>
        </div>
      </div>
    </div>

    <script>
      // App state variables
      let currentMessage = "";
      let currentView = "main";
      let currentCategoryColor = "";
      let currentLanguage = "en";
      let currentCategory = "";
      let selectedVoice = "boy"; // Default voice
      let keyboardMessage = ""; // Separate message for keyboard input
      let customButtonColor = null; // Store custom button color

      // Language data
      const languageData = {
        en: {
          appName: "VoiceBridge",
          appDescription: "AAC Communication App for Children",
          settings: "Settings",
          clear: "Clear",
          speak: "Speak",
          instruction: "Tap the required category to build a sentence",
          food: "Food",
          drink: "Drink",
          bathroom: "Bathroom",
          feelings: "Feelings",
          people: "People",
          activities: "Activities",
          places: "Places",
          body: "Body Parts",
          time: "Time",
          bahrain: "Bahrain",
          school: "My School",
          events: "Events",
          questions: "Questions",
          back: "Back to Categories",
          tapWords: "Tap words to build your sentence",
          footer: "VoiceBridge Version 1.0",
          messagePlaceholder: "Your message will appear here",
          langBtn: "العربية",
          suggestions: "Suggestions",
          moreSuggestions: "More Suggestions",
          pronouns: "Pronouns",
          verbs: "Verbs",
          nouns: "Nouns",
          adjectives: "Adjectives",
          other: "Other Words",
          keyboard: "Keyboard",
          customize: "Customize",
          questionsCat: "Questions",
          keyboardModalTitle: "Keyboard",
          settingsModalTitle: "Settings",
          apply: "Apply Changes",
          space: "Space",
          enter: "Enter",
          buttonStyle: "Button Shape",
          buttonSize: "Font Size",
          fontFamily: "Font Family",
          buttonColor: "Button Color",
          voiceSelection: "Voice Selection",
          boyVoice: "Boy",
          girlVoice: "Girl",
        },
        ar: {
          appName: "جسر الصوت",
          appDescription: "تطبيق التواصل المعزز للاطفال",
          settings: "الإعدادات",
          clear: "مسح",
          speak: "تحدث",
          instruction: "انقر على الفئة المطلوبة لبناء جملة",
          food: "الطعام",
          drink: "المشروبات",
          bathroom: "الحمام",
          feelings: "المشاعر",
          people: "الأشخاص",
          activities: "الأنشطة",
          places: "الأماكن",
          body: "أجزاء الجسم",
          time: "الوقت",
          bahrain: "البحرين",
          school: "مدرستي",
          events: "المناسبات",
          questions: "الأسئلة",
          back: "العودة للفئات",
          tapWords: "انقر على الكلمات لبناء جملتك",
          footer: "جسر الصوت الإصدار 1.0",
          messagePlaceholder: "ستظهر رسالتك هنا",
          langBtn: "English",
          suggestions: "اقتراحات",
          moreSuggestions: "اقتراحات إضافية",
          pronouns: "الضمائر",
          verbs: "الأفعال",
          nouns: "الأسماء",
          adjectives: "الصفات",
          other: "كلمات أخرى",
          keyboard: "لوحة المفاتيح",
          customize: "تخصيص",
          questionsCat: "الأسئلة",
          keyboardModalTitle: "لوحة المفاتيح",
          settingsModalTitle: "الإعدادات",
          apply: "تطبيق التغييرات",
          space: "مسافة",
          enter: "إدخال",
          buttonStyle: "شكل الأزرار",
          buttonSize: "حجم الخط",
          fontFamily: "نوع الخط",
          buttonColor: "لون الأزرار",
          voiceSelection: "اختيار الصوت",
          boyVoice: "ولد",
          girlVoice: "بنت",
        },
      };

      // Keyboard layouts for different languages
      const keyboardLayouts = {
        en: [
          ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"],
          ["q", "w", "e", "r", "t", "y", "u", "i", "o", "p"],
          ["a", "s", "d", "f", "g", "h", "j", "k", "l"],
          ["z", "x", "c", "v", "b", "n", "m"],
        ],
        ar: [
          ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"],
          ["ض", "ص", "ث", "ق", "ف", "غ", "ع", "ه", "خ", "ح"],
          ["ش", "س", "ي", "ب", "ل", "ا", "ت", "ن", "م"],
          ["ظ", "ط", "ذ", "د", "ز", "ر", "و"],
        ],
      };

      // Category data - ALL categories now have full data
      const categoryData = {
        Food: {
          title: { en: "Food & Eating", ar: "الطعام والأكل" },
          color: "category-1",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "I'm", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I'm", ar: "أنا" },
            },
            {
              text: { en: "is", ar: "هو" },
              icon: "🔤",
              speakText: { en: "is", ar: "هو" },
            },
            {
              text: { en: "the", ar: "ال" },
              icon: "🔤",
              speakText: { en: "the", ar: "ال" },
            },
            {
              text: { en: "to", ar: "إلى" },
              icon: "➡️",
              speakText: { en: "to", ar: "إلى" },
            },
            {
              text: { en: "I want", ar: "أريد" },
              icon: "👆",
              speakText: { en: "I want", ar: "أريد" },
            },
            {
              text: { en: "I need", ar: "أحتاج" },
              icon: "📋",
              speakText: { en: "I need", ar: "أحتاج" },
            },
            {
              text: { en: "I like", ar: "أحب" },
              icon: "❤️",
              speakText: { en: "I like", ar: "أحب" },
            },
            {
              text: { en: "a", ar: "ـ" },
              icon: "🔤",
              speakText: { en: "a", ar: "ـ" },
            },
            {
              text: { en: "eat", ar: "آكل" },
              icon: "🍽️",
              speakText: { en: "eat", ar: "آكل" },
            },
            {
              text: { en: "apple", ar: "تفاحة" },
              icon: "🍎",
              speakText: { en: "apple", ar: "تفاحة" },
            },
            {
              text: { en: "banana", ar: "موزة" },
              icon: "🍌",
              speakText: { en: "banana", ar: "موزة" },
            },
            {
              text: { en: "bread", ar: "خبز" },
              icon: "🍞",
              speakText: { en: "bread", ar: "خبز" },
            },
            {
              text: { en: "pizza", ar: "بيتزا" },
              icon: "🍕",
              speakText: { en: "pizza", ar: "بيتزا" },
            },
            {
              text: { en: "rice", ar: "أرز" },
              icon: "🍚",
              speakText: { en: "rice", ar: "أرز" },
            },
            {
              text: { en: "pasta", ar: "معكرونة" },
              icon: "🍝",
              speakText: { en: "pasta", ar: "معكرونة" },
            },
            {
              text: { en: "chicken", ar: "دجاج" },
              icon: "🍗",
              speakText: { en: "chicken", ar: "دجاج" },
            },
            {
              text: { en: "fish", ar: "سمك" },
              icon: "🐟",
              speakText: { en: "fish", ar: "سمك" },
            },
            {
              text: { en: "eggs", ar: "بيض" },
              icon: "🥚",
              speakText: { en: "eggs", ar: "بيض" },
            },
            {
              text: { en: "cheese", ar: "جبن" },
              icon: "🧀",
              speakText: { en: "cheese", ar: "جبن" },
            },
            {
              text: { en: "yogurt", ar: "زبادي" },
              icon: "🥛",
              speakText: { en: "yogurt", ar: "زبادي" },
            },
            {
              text: { en: "cereal", ar: "حبوب" },
              icon: "🥣",
              speakText: { en: "cereal", ar: "حبوب" },
            },
            {
              text: { en: "hungry", ar: "جائع" },
              icon: "🍽️",
              speakText: { en: "hungry", ar: "جائع" },
            },
            {
              text: { en: "thirsty", ar: "عطشان" },
              icon: "😋",
              speakText: { en: "thirsty", ar: "عطشان" },
            },
            {
              text: { en: "now", ar: "الآن" },
              icon: "⏰",
              speakText: { en: "now", ar: "الآن" },
            },
            {
              text: { en: "please", ar: "من فضلك" },
              icon: "🙏",
              speakText: { en: "please", ar: "من فضلك" },
            },
            {
              text: { en: "more", ar: "المزيد" },
              icon: "➕",
              speakText: { en: "more", ar: "المزيد" },
            },
            {
              text: { en: "thank you", ar: "شكرًا" },
              icon: "😊",
              speakText: { en: "thank you", ar: "شكرًا" },
            },
            {
              text: { en: "finished", ar: "انتهيت" },
              icon: "✅",
              speakText: { en: "finished", ar: "انتهيت" },
            },
            {
              text: { en: "all done", ar: "كل شيء انتهى" },
              icon: "🏁",
              speakText: { en: "all done", ar: "كل شيء انتهى" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "eat", ar: "آكل" },
              { en: "drink", ar: "أشرب" },
              { en: "want", ar: "أريد" },
              { en: "need", ar: "أحتاج" },
              { en: "like", ar: "أحب" },
              { en: "cook", ar: "أطبخ" },
              { en: "taste", ar: "أتذوق" },
              { en: "enjoy", ar: "أستمتع" },
              { en: "prepare", ar: "أحضر" },
              { en: "make", ar: "أصنع" },
              { en: "bake", ar: "أخبز" },
              { en: "cut", ar: "أقطع" },
            ],
            nouns: [
              { en: "food", ar: "طعام" },
              { en: "meal", ar: "وجبة" },
              { en: "breakfast", ar: "فطور" },
              { en: "lunch", ar: "غداء" },
              { en: "dinner", ar: "عشاء" },
              { en: "snack", ar: "وجبة خفيفة" },
              { en: "fruit", ar: "فاكهة" },
              { en: "vegetable", ar: "خضار" },
              { en: "meat", ar: "لحم" },
              { en: "dessert", ar: "حلوى" },
              { en: "plate", ar: "طبق" },
              { en: "fork", ar: "شوكة" },
            ],
            adjectives: [
              { en: "hungry", ar: "جائع" },
              { en: "thirsty", ar: "عطشان" },
              { en: "tasty", ar: "لذيذ" },
              { en: "hot", ar: "ساخن" },
              { en: "cold", ar: "بارد" },
              { en: "sweet", ar: "حلو" },
              { en: "salty", ar: "مالح" },
              { en: "spicy", ar: "حار" },
              { en: "fresh", ar: "طازج" },
              { en: "delicious", ar: "لذيذ" },
              { en: "yummy", ar: "لذيذ" },
              { en: "healthy", ar: "صحي" },
            ],
            other: [
              { en: "please", ar: "من فضلك" },
              { en: "thank you", ar: "شكرًا" },
              { en: "more", ar: "المزيد" },
              { en: "enough", ar: "يكفي" },
              { en: "now", ar: "الآن" },
              { en: "later", ar: "لاحقًا" },
              { en: "again", ar: "مرة أخرى" },
              { en: "too much", ar: "كثير جدًا" },
              { en: "a little", ar: "قليلاً" },
              { en: "very", ar: "جدًا" },
              { en: "not", ar: "ليس" },
              { en: "yes", ar: "نعم" },
            ],
          },
        },
        Drink: {
          title: { en: "Drinks", ar: "المشروبات" },
          color: "category-2",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "I'm", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I'm", ar: "أنا" },
            },
            {
              text: { en: "the", ar: "ال" },
              icon: "🔤",
              speakText: { en: "the", ar: "ال" },
            },
            {
              text: { en: "to", ar: "إلى" },
              icon: "➡️",
              speakText: { en: "to", ar: "إلى" },
            },
            {
              text: { en: "I want", ar: "أريد" },
              icon: "👆",
              speakText: { en: "I want", ar: "أريد" },
            },
            {
              text: { en: "I need", ar: "أحتاج" },
              icon: "📋",
              speakText: { en: "I need", ar: "أحتاج" },
            },
            {
              text: { en: "water", ar: "ماء" },
              icon: "💧",
              speakText: { en: "water", ar: "ماء" },
            },
            {
              text: { en: "juice", ar: "عصير" },
              icon: "🧃",
              speakText: { en: "juice", ar: "عصير" },
            },
            {
              text: { en: "milk", ar: "حليب" },
              icon: "🥛",
              speakText: { en: "milk", ar: "حليب" },
            },
            {
              text: { en: "soda", ar: "مشروب غازي" },
              icon: "🥤",
              speakText: { en: "soda", ar: "مشروب غازي" },
            },
            {
              text: { en: "tea", ar: "شاي" },
              icon: "🍵",
              speakText: { en: "tea", ar: "شاي" },
            },
            {
              text: { en: "coffee", ar: "قهوة" },
              icon: "☕",
              speakText: { en: "coffee", ar: "قهوة" },
            },
            {
              text: { en: "hot", ar: "ساخن" },
              icon: "🔥",
              speakText: { en: "hot", ar: "ساخن" },
            },
            {
              text: { en: "cold", ar: "بارد" },
              icon: "❄️",
              speakText: { en: "cold", ar: "بارد" },
            },
            {
              text: { en: "thirsty", ar: "عطشان" },
              icon: "😋",
              speakText: { en: "thirsty", ar: "عطشان" },
            },
            {
              text: { en: "cup", ar: "كوب" },
              icon: "🥤",
              speakText: { en: "cup", ar: "كوب" },
            },
            {
              text: { en: "bottle", ar: "زجاجة" },
              icon: "🧴",
              speakText: { en: "bottle", ar: "زجاجة" },
            },
            {
              text: { en: "glass", ar: "كأس" },
              icon: "🥛",
              speakText: { en: "glass", ar: "كأس" },
            },
            {
              text: { en: "sweet", ar: "حلو" },
              icon: "🍯",
              speakText: { en: "sweet", ar: "حلو" },
            },
            {
              text: { en: "fresh", ar: "طازج" },
              icon: "🌿",
              speakText: { en: "fresh", ar: "طازج" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "drink", ar: "أشرب" },
              { en: "want", ar: "أريد" },
              { en: "need", ar: "أحتاج" },
              { en: "like", ar: "أحب" },
              { en: "pour", ar: "أسكب" },
              { en: "make", ar: "أصنع" },
              { en: "mix", ar: "أخلط" },
              { en: "serve", ar: "أقدم" },
              { en: "enjoy", ar: "أستمتع" },
              { en: "taste", ar: "أتذوق" },
              { en: "sip", ar: "أرتشف" },
              { en: "finish", ar: "أنهي" },
            ],
            nouns: [
              { en: "water", ar: "ماء" },
              { en: "juice", ar: "عصير" },
              { en: "milk", ar: "حليب" },
              { en: "soda", ar: "مشروب غازي" },
              { en: "tea", ar: "شاي" },
              { en: "coffee", ar: "قهوة" },
              { en: "lemonade", ar: "ليموناضة" },
              { en: "smoothie", ar: "سموذي" },
              { en: "hot chocolate", ar: "شوكولاتة ساخنة" },
              { en: "cup", ar: "كوب" },
              { en: "bottle", ar: "زجاجة" },
              { en: "glass", ar: "كأس" },
            ],
            adjectives: [
              { en: "thirsty", ar: "عطشان" },
              { en: "cold", ar: "بارد" },
              { en: "hot", ar: "ساخن" },
              { en: "sweet", ar: "حلو" },
              { en: "fresh", ar: "طازج" },
              { en: "cold", ar: "بارد" },
              { en: "warm", ar: "دافئ" },
              { en: "refreshing", ar: "منعش" },
              { en: "delicious", ar: "لذيذ" },
              { en: "bitter", ar: "مر" },
              { en: "sour", ar: "حامض" },
              { en: "fizzy", ar: "فوار" },
            ],
            other: [
              { en: "please", ar: "من فضلك" },
              { en: "thank you", ar: "شكرًا" },
              { en: "more", ar: "المزيد" },
              { en: "enough", ar: "يكفي" },
              { en: "now", ar: "الآن" },
              { en: "later", ar: "لاحقًا" },
              { en: "again", ar: "مرة أخرى" },
              { en: "too much", ar: "كثير جدًا" },
              { en: "a little", ar: "قليلاً" },
              { en: "very", ar: "جدًا" },
              { en: "not", ar: "ليس" },
              { en: "yes", ar: "نعم" },
            ],
          },
        },
        Bathroom: {
          title: { en: "Bathroom", ar: "الحمام" },
          color: "category-3",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "I need", ar: "أحتاج" },
              icon: "📋",
              speakText: { en: "I need", ar: "أحتاج" },
            },
            {
              text: { en: "toilet", ar: "مرحاض" },
              icon: "🚽",
              speakText: { en: "toilet", ar: "مرحاض" },
            },
            {
              text: { en: "bath", ar: "حمام" },
              icon: "🛁",
              speakText: { en: "bath", ar: "حمام" },
            },
            {
              text: { en: "shower", ar: "دش" },
              icon: "🚿",
              speakText: { en: "shower", ar: "دش" },
            },
            {
              text: { en: "soap", ar: "صابون" },
              icon: "🧼",
              speakText: { en: "soap", ar: "صابون" },
            },
            {
              text: { en: "towel", ar: "منشفة" },
              icon: "🧻",
              speakText: { en: "towel", ar: "منشفة" },
            },
            {
              text: { en: "toothbrush", ar: "فرشاة أسنان" },
              icon: "🪥",
              speakText: { en: "toothbrush", ar: "فرشاة أسنان" },
            },
            {
              text: { en: "toothpaste", ar: "معجون أسنان" },
              icon: "🦷",
              speakText: { en: "toothpaste", ar: "معجون أسنان" },
            },
            {
              text: { en: "wash", ar: "أغسل" },
              icon: "🧽",
              speakText: { en: "wash", ar: "أغسل" },
            },
            {
              text: { en: "clean", ar: "نظيف" },
              icon: "✨",
              speakText: { en: "clean", ar: "نظيف" },
            },
            {
              text: { en: "dirty", ar: "وسخ" },
              icon: "💩",
              speakText: { en: "dirty", ar: "وسخ" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "need", ar: "أحتاج" },
              { en: "want", ar: "أريد" },
              { en: "go", ar: "أذهب" },
              { en: "wash", ar: "أغسل" },
              { en: "brush", ar: "أفرش" },
              { en: "clean", ar: "أنظف" },
              { en: "flush", ar: "أسحب" },
              { en: "dry", ar: "أجفف" },
              { en: "shave", ar: "أحلق" },
              { en: "comb", ar: "أمشط" },
              { en: "rinse", ar: "أشطف" },
              { en: "bathe", ar: "أستحم" },
            ],
            nouns: [
              { en: "bathroom", ar: "حمام" },
              { en: "toilet", ar: "مرحاض" },
              { en: "shower", ar: "دش" },
              { en: "sink", ar: "حوض" },
              { en: "soap", ar: "صابون" },
              { en: "towel", ar: "منشفة" },
              { en: "mirror", ar: "مرآة" },
              { en: "toothbrush", ar: "فرشاة أسنان" },
              { en: "toothpaste", ar: "معجون أسنان" },
              { en: "shampoo", ar: "شامبو" },
              { en: "conditioner", ar: "بلسم" },
              { en: "toilet paper", ar: "ورق تواليت" },
            ],
            adjectives: [
              { en: "clean", ar: "نظيف" },
              { en: "dirty", ar: "وسخ" },
              { en: "wet", ar: "مبلل" },
              { en: "dry", ar: "جاف" },
              { en: "hot", ar: "ساخن" },
              { en: "cold", ar: "بارد" },
              { en: "soapy", ar: "صابوني" },
              { en: "fresh", ar: "طازج" },
              { en: "slippery", ar: "زلق" },
              { en: "warm", ar: "دافئ" },
              { en: "comfortable", ar: "مريح" },
              { en: "private", ar: "خاص" },
            ],
            other: [
              { en: "please", ar: "من فضلك" },
              { en: "thank you", ar: "شكرًا" },
              { en: "now", ar: "الآن" },
              { en: "later", ar: "لاحقًا" },
              { en: "help", ar: "مساعدة" },
              { en: "finished", ar: "انتهيت" },
              { en: "ready", ar: "جاهز" },
              { en: "quickly", ar: "بسرعة" },
              { en: "slowly", ar: "ببطء" },
              { en: "carefully", ar: "بحذر" },
              { en: "alone", ar: "وحيد" },
              { en: "with help", ar: "بمساعدة" },
            ],
          },
        },
        Feelings: {
          title: { en: "Feelings", ar: "المشاعر" },
          color: "category-4",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "I'm", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I'm", ar: "أنا" },
            },
            {
              text: { en: "feel", ar: "أشعر" },
              icon: "💭",
              speakText: { en: "feel", ar: "أشعر" },
            },
            {
              text: { en: "happy", ar: "سعيد" },
              icon: "😊",
              speakText: { en: "happy", ar: "سعيد" },
            },
            {
              text: { en: "sad", ar: "حزين" },
              icon: "😢",
              speakText: { en: "sad", ar: "حزين" },
            },
            {
              text: { en: "angry", ar: "غاضب" },
              icon: "😠",
              speakText: { en: "angry", ar: "غاضب" },
            },
            {
              text: { en: "tired", ar: "متعب" },
              icon: "😴",
              speakText: { en: "tired", ar: "متعب" },
            },
            {
              text: { en: "scared", ar: "خائف" },
              icon: "😨",
              speakText: { en: "scared", ar: "خائف" },
            },
            {
              text: { en: "excited", ar: "متحمس" },
              icon: "🤩",
              speakText: { en: "excited", ar: "متحمس" },
            },
            {
              text: { en: "sick", ar: "مريض" },
              icon: "🤒",
              speakText: { en: "sick", ar: "مريض" },
            },
            {
              text: { en: "proud", ar: "فخور" },
              icon: "😌",
              speakText: { en: "proud", ar: "فخور" },
            },
            {
              text: { en: "confused", ar: "مرتبك" },
              icon: "😕",
              speakText: { en: "confused", ar: "مرتبك" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "feel", ar: "أشعر" },
              { en: "am", ar: "أكون" },
              { en: "want", ar: "أريد" },
              { en: "need", ar: "أحتاج" },
              { en: "like", ar: "أحب" },
              { en: "hate", ar: "أكره" },
              { en: "love", ar: "أحب" },
              { en: "miss", ar: "أفتقد" },
              { en: "worry", ar: "أقلق" },
              { en: "enjoy", ar: "أستمتع" },
              { en: "hope", ar: "آمل" },
              { en: "wish", ar: "أتمنى" },
            ],
            nouns: [
              { en: "feeling", ar: "شعور" },
              { en: "emotion", ar: "عاطفة" },
              { en: "mood", ar: "مزاج" },
              { en: "happiness", ar: "سعادة" },
              { en: "sadness", ar: "حزن" },
              { en: "anger", ar: "غضب" },
              { en: "fear", ar: "خوف" },
              { en: "excitement", ar: "حماس" },
              { en: "pride", ar: "فخر" },
              { en: "confusion", ar: "ارتباك" },
              { en: "surprise", ar: "مفاجأة" },
              { en: "disappointment", ar: "خيبة أمل" },
            ],
            adjectives: [
              { en: "happy", ar: "سعيد" },
              { en: "sad", ar: "حزين" },
              { en: "angry", ar: "غاضب" },
              { en: "tired", ar: "متعب" },
              { en: "scared", ar: "خائف" },
              { en: "excited", ar: "متحمس" },
              { en: "proud", ar: "فخور" },
              { en: "confused", ar: "مرتبك" },
              { en: "surprised", ar: "متفاجئ" },
              { en: "nervous", ar: "متوتر" },
              { en: "calm", ar: "هادئ" },
              { en: "lonely", ar: "وحيد" },
            ],
            other: [
              { en: "today", ar: "اليوم" },
              { en: "now", ar: "الآن" },
              { en: "because", ar: "لأن" },
              { en: "very", ar: "جدًا" },
              { en: "a little", ar: "قليلاً" },
              { en: "not", ar: "ليس" },
              { en: "so", ar: "لذلك" },
              { en: "too", ar: "أيضًا" },
              { en: "really", ar: "حقًا" },
              { en: "sometimes", ar: "أحيانًا" },
              { en: "always", ar: "دائمًا" },
              { en: "never", ar: "أبدًا" },
            ],
          },
        },
        People: {
          title: { en: "People", ar: "الأشخاص" },
          color: "category-5",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "you", ar: "أنت" },
              icon: "👆",
              speakText: { en: "you", ar: "أنت" },
            },
            {
              text: { en: "he", ar: "هو" },
              icon: "👨",
              speakText: { en: "he", ar: "هو" },
            },
            {
              text: { en: "she", ar: "هي" },
              icon: "👩",
              speakText: { en: "she", ar: "هي" },
            },
            {
              text: { en: "we", ar: "نحن" },
              icon: "👥",
              speakText: { en: "we", ar: "نحن" },
            },
            {
              text: { en: "they", ar: "هم" },
              icon: "👥",
              speakText: { en: "they", ar: "هم" },
            },
            {
              text: { en: "mom", ar: "أمي" },
              icon: "👩",
              speakText: { en: "mom", ar: "أمي" },
            },
            {
              text: { en: "dad", ar: "أبي" },
              icon: "👨",
              speakText: { en: "dad", ar: "أبي" },
            },
            {
              text: { en: "brother", ar: "أخي" },
              icon: "👦",
              speakText: { en: "brother", ar: "أخي" },
            },
            {
              text: { en: "sister", ar: "أختي" },
              icon: "👧",
              speakText: { en: "sister", ar: "أختي" },
            },
            {
              text: { en: "friend", ar: "صديق" },
              icon: "👫",
              speakText: { en: "friend", ar: "صديق" },
            },
            {
              text: { en: "teacher", ar: "معلم" },
              icon: "👨‍🏫",
              speakText: { en: "teacher", ar: "معلم" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "love", ar: "أحب" },
              { en: "like", ar: "أعجب" },
              { en: "help", ar: "أساعد" },
              { en: "play", ar: "ألعب" },
              { en: "talk", ar: "أتحدث" },
              { en: "see", ar: "أرى" },
              { en: "meet", ar: "ألتقي" },
              { en: "visit", ar: "أزور" },
              { en: "call", ar: "أتصل" },
              { en: "listen", ar: "أستمع" },
              { en: "understand", ar: "أفهم" },
              { en: "miss", ar: "أفتقد" },
            ],
            nouns: [
              { en: "family", ar: "عائلة" },
              { en: "friend", ar: "صديق" },
              { en: "teacher", ar: "معلم" },
              { en: "student", ar: "طالب" },
              { en: "child", ar: "طفل" },
              { en: "person", ar: "شخص" },
              { en: "boy", ar: "ولد" },
              { en: "girl", ar: "بنت" },
              { en: "man", ar: "رجل" },
              { en: "woman", ar: "امرأة" },
              { en: "baby", ar: "رضيع" },
              { en: "grandparent", ar: "جد/جدة" },
            ],
            adjectives: [
              { en: "nice", ar: "لطيف" },
              { en: "kind", ar: "طيب" },
              { en: "funny", ar: "مضحك" },
              { en: "smart", ar: "ذكي" },
              { en: "friendly", ar: "ودود" },
              { en: "helpful", ar: "مفيد" },
              { en: "beautiful", ar: "جميل" },
              { en: "handsome", ar: "وسيم" },
              { en: "young", ar: "شاب" },
              { en: "old", ar: "كبير" },
              { en: "tall", ar: "طويل" },
              { en: "short", ar: "قصير" },
            ],
            other: [
              { en: "and", ar: "و" },
              { en: "with", ar: "مع" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
              { en: "their", ar: "لهم" },
              { en: "together", ar: "معًا" },
              { en: "alone", ar: "وحيد" },
              { en: "here", ar: "هنا" },
              { en: "there", ar: "هناك" },
              { en: "everywhere", ar: "في كل مكان" },
              { en: "somewhere", ar: "في مكان ما" },
            ],
          },
        },
        Activities: {
          title: { en: "Activities", ar: "الأنشطة" },
          color: "category-6",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "I want", ar: "أريد" },
              icon: "👆",
              speakText: { en: "I want", ar: "أريد" },
            },
            {
              text: { en: "I like", ar: "أحب" },
              icon: "❤️",
              speakText: { en: "I like", ar: "أحب" },
            },
            {
              text: { en: "play", ar: "ألعب" },
              icon: "🎮",
              speakText: { en: "play", ar: "ألعب" },
            },
            {
              text: { en: "read", ar: "أقرأ" },
              icon: "📖",
              speakText: { en: "read", ar: "أقرأ" },
            },
            {
              text: { en: "draw", ar: "أرسم" },
              icon: "✏️",
              speakText: { en: "draw", ar: "أرسم" },
            },
            {
              text: { en: "sing", ar: "أغني" },
              icon: "🎤",
              speakText: { en: "sing", ar: "أغني" },
            },
            {
              text: { en: "dance", ar: "أرقص" },
              icon: "💃",
              speakText: { en: "dance", ar: "أرقص" },
            },
            {
              text: { en: "watch", ar: "أشاهد" },
              icon: "📺",
              speakText: { en: "watch", ar: "أشاهد" },
            },
            {
              text: { en: "listen", ar: "أستمع" },
              icon: "🎧",
              speakText: { en: "listen", ar: "أستمع" },
            },
            {
              text: { en: "walk", ar: "أمشي" },
              icon: "🚶",
              speakText: { en: "walk", ar: "أمشي" },
            },
            {
              text: { en: "run", ar: "أجري" },
              icon: "🏃",
              speakText: { en: "run", ar: "أجري" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "play", ar: "ألعب" },
              { en: "read", ar: "أقرأ" },
              { en: "draw", ar: "أرسم" },
              { en: "sing", ar: "أغني" },
              { en: "dance", ar: "أرقص" },
              { en: "watch", ar: "أشاهد" },
              { en: "listen", ar: "أستمع" },
              { en: "walk", ar: "أمشي" },
              { en: "run", ar: "أجري" },
              { en: "jump", ar: "أقفز" },
              { en: "swim", ar: "أسبح" },
              { en: "exercise", ar: "أتمرن" },
            ],
            nouns: [
              { en: "game", ar: "لعبة" },
              { en: "book", ar: "كتاب" },
              { en: "music", ar: "موسيقى" },
              { en: "movie", ar: "فيلم" },
              { en: "art", ar: "فن" },
              { en: "sport", ar: "رياضة" },
              { en: "hobby", ar: "هواية" },
              { en: "activity", ar: "نشاط" },
              { en: "fun", ar: "مرح" },
              { en: "adventure", ar: "مغامرة" },
              { en: "competition", ar: "منافسة" },
              { en: "performance", ar: "أداء" },
            ],
            adjectives: [
              { en: "fun", ar: "ممتع" },
              { en: "boring", ar: "ممل" },
              { en: "interesting", ar: "مثير" },
              { en: "difficult", ar: "صعب" },
              { en: "easy", ar: "سهل" },
              { en: "exciting", ar: "مثير" },
              { en: "relaxing", ar: "مريح" },
              { en: "energetic", ar: "نشيط" },
              { en: "creative", ar: "خلاق" },
              { en: "competitive", ar: "تنافسي" },
              { en: "challenging", ar: "صعب" },
              { en: "enjoyable", ar: "ممتع" },
            ],
            other: [
              { en: "with", ar: "مع" },
              { en: "and", ar: "و" },
              { en: "or", ar: "أو" },
              { en: "now", ar: "الآن" },
              { en: "later", ar: "لاحقًا" },
              { en: "today", ar: "اليوم" },
              { en: "tomorrow", ar: "غدًا" },
              { en: "yesterday", ar: "أمس" },
              { en: "often", ar: "غالبًا" },
              { en: "sometimes", ar: "أحيانًا" },
              { en: "never", ar: "أبدًا" },
              { en: "always", ar: "دائمًا" },
            ],
          },
        },
        Places: {
          title: { en: "Places", ar: "الأماكن" },
          color: "category-7",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "I want", ar: "أريد" },
              icon: "👆",
              speakText: { en: "I want", ar: "أريد" },
            },
            {
              text: { en: "I need", ar: "أحتاج" },
              icon: "📋",
              speakText: { en: "I need", ar: "أحتاج" },
            },
            {
              text: { en: "go", ar: "أذهب" },
              icon: "➡️",
              speakText: { en: "go", ar: "أذهب" },
            },
            {
              text: { en: "home", ar: "بيت" },
              icon: "🏠",
              speakText: { en: "home", ar: "بيت" },
            },
            {
              text: { en: "school", ar: "مدرسة" },
              icon: "🏫",
              speakText: { en: "school", ar: "مدرسة" },
            },
            {
              text: { en: "park", ar: "حديقة" },
              icon: "🌳",
              speakText: { en: "park", ar: "حديقة" },
            },
            {
              text: { en: "store", ar: "متجر" },
              icon: "🏪",
              speakText: { en: "store", ar: "متجر" },
            },
            {
              text: { en: "hospital", ar: "مستشفى" },
              icon: "🏥",
              speakText: { en: "hospital", ar: "مستشفى" },
            },
            {
              text: { en: "restaurant", ar: "مطعم" },
              icon: "🍽️",
              speakText: { en: "restaurant", ar: "مطعم" },
            },
            {
              text: { en: "beach", ar: "شاطئ" },
              icon: "🏖️",
              speakText: { en: "beach", ar: "شاطئ" },
            },
            {
              text: { en: "bathroom", ar: "حمام" },
              icon: "🚽",
              speakText: { en: "bathroom", ar: "حمام" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "go", ar: "أذهب" },
              { en: "come", ar: "أجي" },
              { en: "visit", ar: "أزور" },
              { en: "stay", ar: "أبقى" },
              { en: "leave", ar: "أغادر" },
              { en: "arrive", ar: "أصل" },
              { en: "travel", ar: "أسافر" },
              { en: "explore", ar: "أستكشف" },
              { en: "enter", ar: "أدخل" },
              { en: "exit", ar: "أخرج" },
              { en: "return", ar: "أعود" },
              { en: "move", ar: "أنتقل" },
            ],
            nouns: [
              { en: "place", ar: "مكان" },
              { en: "location", ar: "موقع" },
              { en: "home", ar: "بيت" },
              { en: "school", ar: "مدرسة" },
              { en: "park", ar: "حديقة" },
              { en: "store", ar: "متجر" },
              { en: "city", ar: "مدينة" },
              { en: "country", ar: "بلد" },
              { en: "building", ar: "مبنى" },
              { en: "room", ar: "غرفة" },
              { en: "area", ar: "منطقة" },
              { en: "destination", ar: "وجهة" },
            ],
            adjectives: [
              { en: "far", ar: "بعيد" },
              { en: "near", ar: "قريب" },
              { en: "big", ar: "كبير" },
              { en: "small", ar: "صغير" },
              { en: "beautiful", ar: "جميل" },
              { en: "crowded", ar: "مزدحم" },
              { en: "quiet", ar: "هادئ" },
              { en: "noisy", ar: "صاخب" },
              { en: "clean", ar: "نظيف" },
              { en: "dirty", ar: "وسخ" },
              { en: "safe", ar: "آمن" },
              { en: "dangerous", ar: "خطير" },
            ],
            other: [
              { en: "to", ar: "إلى" },
              { en: "from", ar: "من" },
              { en: "at", ar: "في" },
              { en: "here", ar: "هنا" },
              { en: "there", ar: "هناك" },
              { en: "where", ar: "أين" },
              { en: "everywhere", ar: "في كل مكان" },
              { en: "somewhere", ar: "في مكان ما" },
              { en: "nowhere", ar: "لا مكان" },
              { en: "anywhere", ar: "في أي مكان" },
              { en: "inside", ar: "داخل" },
              { en: "outside", ar: "خارج" },
            ],
          },
        },
        Body: {
          title: { en: "Body Parts", ar: "أجزاء الجسم" },
          color: "category-8",
          words: [
            {
              text: { en: "my", ar: "لي" },
              icon: "👤",
              speakText: { en: "my", ar: "لي" },
            },
            {
              text: { en: "head", ar: "رأس" },
              icon: "👦",
              speakText: { en: "head", ar: "رأس" },
            },
            {
              text: { en: "eyes", ar: "عيون" },
              icon: "👀",
              speakText: { en: "eyes", ar: "عيون" },
            },
            {
              text: { en: "ears", ar: "آذان" },
              icon: "👂",
              speakText: { en: "ears", ar: "آذان" },
            },
            {
              text: { en: "nose", ar: "أنف" },
              icon: "👃",
              speakText: { en: "nose", ar: "أنف" },
            },
            {
              text: { en: "mouth", ar: "فم" },
              icon: "👄",
              speakText: { en: "mouth", ar: "فم" },
            },
            {
              text: { en: "hands", ar: "يدين" },
              icon: "✋",
              speakText: { en: "hands", ar: "يدين" },
            },
            {
              text: { en: "feet", ar: "قدمين" },
              icon: "🦶",
              speakText: { en: "feet", ar: "قدمين" },
            },
            {
              text: { en: "stomach", ar: "بطن" },
              icon: "🤰",
              speakText: { en: "stomach", ar: "بطن" },
            },
            {
              text: { en: "back", ar: "ظهر" },
              icon: "🔙",
              speakText: { en: "back", ar: "ظهر" },
            },
            {
              text: { en: "hurt", ar: "يؤلم" },
              icon: "🤕",
              speakText: { en: "hurt", ar: "يؤلم" },
            },
            {
              text: { en: "pain", ar: "ألم" },
              icon: "😣",
              speakText: { en: "pain", ar: "ألم" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "his", ar: "له" },
              { en: "her", ar: "لها" },
              { en: "our", ar: "لنا" },
              { en: "their", ar: "لهم" },
              { en: "this", ar: "هذا" },
              { en: "that", ar: "ذلك" },
              { en: "these", ar: "هؤلاء" },
              { en: "those", ar: "أولئك" },
            ],
            verbs: [
              { en: "hurt", ar: "يؤلم" },
              { en: "feel", ar: "أشعر" },
              { en: "touch", ar: "ألمس" },
              { en: "see", ar: "أرى" },
              { en: "hear", ar: "أسمع" },
              { en: "move", ar: "أتحرك" },
              { en: "scratch", ar: "أحك" },
              { en: "stretch", ar: "أتمدد" },
              { en: "bend", ar: "أنحني" },
              { en: "lift", ar: "أرفع" },
              { en: "hold", ar: "أمسك" },
              { en: "rest", ar: "أرتاح" },
            ],
            nouns: [
              { en: "head", ar: "رأس" },
              { en: "eyes", ar: "عيون" },
              { en: "ears", ar: "آذان" },
              { en: "nose", ar: "أنف" },
              { en: "mouth", ar: "فم" },
              { en: "hands", ar: "يدين" },
              { en: "arms", ar: "أذرع" },
              { en: "legs", ar: "أرجل" },
              { en: "feet", ar: "أقدام" },
              { en: "fingers", ar: "أصابع" },
              { en: "toes", ar: "أصابع قدم" },
              { en: "body", ar: "جسم" },
            ],
            adjectives: [
              { en: "sore", ar: "مؤلم" },
              { en: "painful", ar: "مؤلم" },
              { en: "itchy", ar: "مثير للحكة" },
              { en: "tired", ar: "متعب" },
              { en: "strong", ar: "قوي" },
              { en: "weak", ar: "ضعيف" },
              { en: "healthy", ar: "صحي" },
              { en: "sick", ar: "مريض" },
              { en: "comfortable", ar: "مريح" },
              { en: "uncomfortable", ar: "غير مريح" },
              { en: "flexible", ar: "مرن" },
              { en: "stiff", ar: "قاس" },
            ],
            other: [
              { en: "left", ar: "يسار" },
              { en: "right", ar: "يمين" },
              { en: "both", ar: "كلاهما" },
              { en: "here", ar: "هنا" },
              { en: "there", ar: "هناك" },
              { en: "a lot", ar: "كثير" },
              { en: "a little", ar: "قليلاً" },
              { en: "very", ar: "جدًا" },
              { en: "not", ar: "ليس" },
              { en: "too", ar: "أيضًا" },
              { en: "so", ar: "لذلك" },
              { en: "really", ar: "حقًا" },
            ],
          },
        },
        Time: {
          title: { en: "Time", ar: "الوقت" },
          color: "category-9",
          words: [
            {
              text: { en: "now", ar: "الآن" },
              icon: "⏰",
              speakText: { en: "now", ar: "الآن" },
            },
            {
              text: { en: "later", ar: "لاحقًا" },
              icon: "⏳",
              speakText: { en: "later", ar: "لاحقًا" },
            },
            {
              text: { en: "soon", ar: "قريبًا" },
              icon: "🔜",
              speakText: { en: "soon", ar: "قريبًا" },
            },
            {
              text: { en: "today", ar: "اليوم" },
              icon: "📅",
              speakText: { en: "today", ar: "اليوم" },
            },
            {
              text: { en: "tomorrow", ar: "غدًا" },
              icon: "📆",
              speakText: { en: "tomorrow", ar: "غدًا" },
            },
            {
              text: { en: "yesterday", ar: "أمس" },
              icon: "🗓️",
              speakText: { en: "yesterday", ar: "أمس" },
            },
            {
              text: { en: "morning", ar: "صباح" },
              icon: "🌅",
              speakText: { en: "morning", ar: "صباح" },
            },
            {
              text: { en: "afternoon", ar: "ظهر" },
              icon: "🌇",
              speakText: { en: "afternoon", ar: "ظهر" },
            },
            {
              text: { en: "evening", ar: "مساء" },
              icon: "🌆",
              speakText: { en: "evening", ar: "مساء" },
            },
            {
              text: { en: "night", ar: "ليل" },
              icon: "🌃",
              speakText: { en: "night", ar: "ليل" },
            },
            {
              text: { en: "hour", ar: "ساعة" },
              icon: "🕐",
              speakText: { en: "hour", ar: "ساعة" },
            },
            {
              text: { en: "minute", ar: "دقيقة" },
              icon: "⏱️",
              speakText: { en: "minute", ar: "دقيقة" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "it", ar: "هو" },
            ],
            verbs: [
              { en: "wait", ar: "أنتظر" },
              { en: "go", ar: "أذهب" },
              { en: "come", ar: "أجي" },
              { en: "start", ar: "أبدأ" },
              { en: "finish", ar: "أنتهي" },
              { en: "happen", ar: "يحدث" },
              { en: "last", ar: "يستمر" },
              { en: "take", ar: "يأخذ" },
              { en: "spend", ar: "يقضي" },
              { en: "waste", ar: "يضيع" },
              { en: "save", ar: "يوفر" },
              { en: "plan", ar: "يخطط" },
            ],
            nouns: [
              { en: "time", ar: "وقت" },
              { en: "day", ar: "يوم" },
              { en: "week", ar: "أسبوع" },
              { en: "month", ar: "شهر" },
              { en: "year", ar: "سنة" },
              { en: "moment", ar: "لحظة" },
              { en: "second", ar: "ثانية" },
              { en: "minute", ar: "دقيقة" },
              { en: "hour", ar: "ساعة" },
              { en: "date", ar: "تاريخ" },
              { en: "schedule", ar: "جدول" },
              { en: "calendar", ar: "تقويم" },
            ],
            adjectives: [
              { en: "early", ar: "مبكر" },
              { en: "late", ar: "متأخر" },
              { en: "fast", ar: "سريع" },
              { en: "slow", ar: "بطيء" },
              { en: "long", ar: "طويل" },
              { en: "short", ar: "قصير" },
              { en: "quick", ar: "سريع" },
              { en: "brief", ar: "مختصر" },
              { en: "permanent", ar: "دائم" },
              { en: "temporary", ar: "مؤقت" },
              { en: "regular", ar: "منتظم" },
              { en: "occasional", ar: "عرضي" },
            ],
            other: [
              { en: "before", ar: "قبل" },
              { en: "after", ar: "بعد" },
              { en: "during", ar: "خلال" },
              { en: "until", ar: "حتى" },
              { en: "since", ar: "منذ" },
              { en: "while", ar: "بينما" },
              { en: "when", ar: "متى" },
              { en: "then", ar: "ثم" },
              { en: "now", ar: "الآن" },
              { en: "soon", ar: "قريبًا" },
              { en: "later", ar: "لاحقًا" },
              { en: "never", ar: "أبدًا" },
            ],
          },
        },
        Bahrain: {
          title: { en: "Bahrain", ar: "البحرين" },
          color: "category-10",
          words: [
            {
              text: { en: "Bahrain", ar: "البحرين" },
              icon: "🇧🇭",
              speakText: { en: "Bahrain", ar: "البحرين" },
            },
            {
              text: { en: "Manama", ar: "المنامة" },
              icon: "🏙️",
              speakText: { en: "Manama", ar: "المنامة" },
            },
            {
              text: { en: "Arabic", ar: "عربي" },
              icon: "🔤",
              speakText: { en: "Arabic", ar: "عربي" },
            },
            {
              text: { en: "flag", ar: "علم" },
              icon: "🇧🇭",
              speakText: { en: "flag", ar: "علم" },
            },
            {
              text: { en: "food", ar: "طعام" },
              icon: "🍽️",
              speakText: { en: "food", ar: "طعام" },
            },
            {
              text: { en: "culture", ar: "ثقافة" },
              icon: "🎎",
              speakText: { en: "culture", ar: "ثقافة" },
            },
            {
              text: { en: "heritage", ar: "تراث" },
              icon: "🏛️",
              speakText: { en: "heritage", ar: "تراث" },
            },
            {
              text: { en: "pearl", ar: "لؤلؤة" },
              icon: "💎",
              speakText: { en: "pearl", ar: "لؤلؤة" },
            },
            {
              text: { en: "sea", ar: "بحر" },
              icon: "🌊",
              speakText: { en: "sea", ar: "بحر" },
            },
            {
              text: { en: "island", ar: "جزيرة" },
              icon: "🏝️",
              speakText: { en: "island", ar: "جزيرة" },
            },
            {
              text: { en: "hot", ar: "حار" },
              icon: "🌞",
              speakText: { en: "hot", ar: "حار" },
            },
            {
              text: { en: "beautiful", ar: "جميل" },
              icon: "✨",
              speakText: { en: "beautiful", ar: "جميل" },
            },
            // NEW: Bahrain-specific words
            {
              text: { en: "Bahrain Fort", ar: "قلعة البحرين" },
              icon: "🏰",
              speakText: { en: "Bahrain Fort", ar: "قلعة البحرين" },
            },
            {
              text: { en: "Al-Fateh Mosque", ar: "مسجد الفاتح" },
              icon: "🕌",
              speakText: { en: "Al-Fateh Mosque", ar: "مسجد الفاتح" },
            },
            {
              text: { en: "Tree of Life", ar: "شجرة الحياة" },
              icon: "🌳",
              speakText: { en: "Tree of Life", ar: "شجرة الحياة" },
            },
            {
              text: {
                en: "Bahrain National Museum",
                ar: "المتحف الوطني البحريني",
              },
              icon: "🏛️",
              speakText: {
                en: "Bahrain National Museum",
                ar: "المتحف الوطني البحريني",
              },
            },
            {
              text: {
                en: "Bahrain International Circuit",
                ar: "حلبة البحرين الدولية",
              },
              icon: "🏎️",
              speakText: {
                en: "Bahrain International Circuit",
                ar: "حلبة البحرين الدولية",
              },
            },
            {
              text: { en: "Dilmun", ar: "دلمون" },
              icon: "🏺",
              speakText: { en: "Dilmun", ar: "دلمون" },
            },
            {
              text: { en: "Pearl Monument", ar: "نصب اللؤلؤة" },
              icon: "💎",
              speakText: { en: "Pearl Monument", ar: "نصب اللؤلؤة" },
            },
            {
              text: { en: "Bahrain Bay", ar: "خليج البحرين" },
              icon: "🌊",
              speakText: { en: "Bahrain Bay", ar: "خليج البحرين" },
            },
            {
              text: { en: "Al Areen Wildlife Park", ar: "محمية العرين" },
              icon: "🦁",
              speakText: { en: "Al Areen Wildlife Park", ar: "محمية العرين" },
            },
            {
              text: { en: "Bahraini Dinar", ar: "دينار بحريني" },
              icon: "💰",
              speakText: { en: "Bahraini Dinar", ar: "دينار بحريني" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "my", ar: "لي" },
              { en: "our", ar: "لنا" },
              { en: "their", ar: "لهم" },
            ],
            verbs: [
              { en: "visit", ar: "أزور" },
              { en: "live", ar: "أعيش" },
              { en: "love", ar: "أحب" },
              { en: "explore", ar: "أستكشف" },
              { en: "discover", ar: "أكتشف" },
              { en: "enjoy", ar: "أستمتع" },
              { en: "travel", ar: "أسافر" },
              { en: "see", ar: "أرى" },
              { en: "learn", ar: "أتعلم" },
              { en: "experience", ar: "أختبر" },
              { en: "appreciate", ar: "أقدر" },
              { en: "celebrate", ar: "أحتفل" },
            ],
            nouns: [
              { en: "country", ar: "بلد" },
              { en: "city", ar: "مدينة" },
              { en: "culture", ar: "ثقافة" },
              { en: "heritage", ar: "تراث" },
              { en: "food", ar: "طعام" },
              { en: "people", ar: "شعب" },
              { en: "history", ar: "تاريخ" },
              { en: "tradition", ar: "تقليد" },
              { en: "landmark", ar: "معلم" },
              { en: "monument", ar: "نصب" },
              { en: "island", ar: "جزيرة" },
              { en: "kingdom", ar: "مملكة" },
            ],
            adjectives: [
              { en: "beautiful", ar: "جميل" },
              { en: "hot", ar: "حار" },
              { en: "traditional", ar: "تقليدي" },
              { en: "modern", ar: "حديث" },
              { en: "friendly", ar: "ودود" },
              { en: "rich", ar: "غني" },
              { en: "ancient", ar: "قديم" },
              { en: "historical", ar: "تاريخي" },
              { en: "cultural", ar: "ثقافي" },
              { en: "coastal", ar: "ساحلي" },
              { en: "island", ar: "جزري" },
              { en: "Arabian", ar: "عربي" },
            ],
            other: [
              { en: "in", ar: "في" },
              { en: "from", ar: "من" },
              { en: "to", ar: "إلى" },
              { en: "of", ar: "من" },
              { en: "and", ar: "و" },
              { en: "the", ar: "ال" },
              { en: "this", ar: "هذا" },
              { en: "that", ar: "ذلك" },
              { en: "here", ar: "هنا" },
              { en: "there", ar: "هناك" },
              { en: "everywhere", ar: "في كل مكان" },
              { en: "somewhere", ar: "في مكان ما" },
            ],
          },
        },
        School: {
          title: { en: "My School", ar: "مدرستي" },
          color: "category-11",
          words: [
            {
              text: { en: "I", ar: "أنا" },
              icon: "👤",
              speakText: { en: "I", ar: "أنا" },
            },
            {
              text: { en: "school", ar: "مدرسة" },
              icon: "🏫",
              speakText: { en: "school", ar: "مدرسة" },
            },
            {
              text: { en: "teacher", ar: "معلم" },
              icon: "👨‍🏫",
              speakText: { en: "teacher", ar: "معلم" },
            },
            {
              text: { en: "student", ar: "طالب" },
              icon: "👨‍🎓",
              speakText: { en: "student", ar: "طالب" },
            },
            {
              text: { en: "class", ar: "صف" },
              icon: "📚",
              speakText: { en: "class", ar: "صف" },
            },
            {
              text: { en: "book", ar: "كتاب" },
              icon: "📖",
              speakText: { en: "book", ar: "كتاب" },
            },
            {
              text: { en: "pen", ar: "قلم" },
              icon: "✏️",
              speakText: { en: "pen", ar: "قلم" },
            },
            {
              text: { en: "paper", ar: "ورقة" },
              icon: "📄",
              speakText: { en: "paper", ar: "ورقة" },
            },
            {
              text: { en: "learn", ar: "أتعلم" },
              icon: "🧠",
              speakText: { en: "learn", ar: "أتعلم" },
            },
            {
              text: { en: "study", ar: "أدرس" },
              icon: "📝",
              speakText: { en: "study", ar: "أدرس" },
            },
            {
              text: { en: "read", ar: "أقرأ" },
              icon: "📖",
              speakText: { en: "read", ar: "أقرأ" },
            },
            {
              text: { en: "write", ar: "أكتب" },
              icon: "✍️",
              speakText: { en: "write", ar: "أكتب" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "learn", ar: "أتعلم" },
              { en: "study", ar: "أدرس" },
              { en: "read", ar: "أقرأ" },
              { en: "write", ar: "أكتب" },
              { en: "listen", ar: "أستمع" },
              { en: "understand", ar: "أفهم" },
              { en: "ask", ar: "أسأل" },
              { en: "answer", ar: "أجيب" },
              { en: "explain", ar: "أشرح" },
              { en: "practice", ar: "أمارس" },
              { en: "complete", ar: "أكمل" },
              { en: "participate", ar: "أشارك" },
            ],
            nouns: [
              { en: "school", ar: "مدرسة" },
              { en: "class", ar: "صف" },
              { en: "teacher", ar: "معلم" },
              { en: "student", ar: "طالب" },
              { en: "book", ar: "كتاب" },
              { en: "homework", ar: "واجب" },
              { en: "lesson", ar: "درس" },
              { en: "subject", ar: "مادة" },
              { en: "test", ar: "اختبار" },
              { en: "exam", ar: "امتحان" },
              { en: "project", ar: "مشروع" },
              { en: "assignment", ar: "مهمة" },
            ],
            adjectives: [
              { en: "smart", ar: "ذكي" },
              { en: "hard", ar: "صعب" },
              { en: "easy", ar: "سهل" },
              { en: "interesting", ar: "مثير" },
              { en: "boring", ar: "ممل" },
              { en: "fun", ar: "ممتع" },
              { en: "difficult", ar: "صعب" },
              { en: "important", ar: "مهم" },
              { en: "necessary", ar: "ضروري" },
              { en: "educational", ar: "تعليمي" },
              { en: "academic", ar: "أكاديمي" },
              { en: "challenging", ar: "صعب" },
            ],
            other: [
              { en: "in", ar: "في" },
              { en: "at", ar: "في" },
              { en: "with", ar: "مع" },
              { en: "and", ar: "و" },
              { en: "or", ar: "أو" },
              { en: "but", ar: "لكن" },
              { en: "because", ar: "لأن" },
              { en: "so", ar: "لذلك" },
              { en: "then", ar: "ثم" },
              { en: "now", ar: "الآن" },
              { en: "later", ar: "لاحقًا" },
              { en: "always", ar: "دائمًا" },
            ],
          },
        },
        Events: {
          title: { en: "Events", ar: "المناسبات" },
          color: "category-12",
          words: [
            {
              text: { en: "birthday", ar: "عيد ميلاد" },
              icon: "🎂",
              speakText: { en: "birthday", ar: "عيد ميلاد" },
            },
            {
              text: { en: "party", ar: "حفلة" },
              icon: "🎉",
              speakText: { en: "party", ar: "حفلة" },
            },
            {
              text: { en: "celebration", ar: "احتفال" },
              icon: "🥳",
              speakText: { en: "celebration", ar: "احتفال" },
            },
            {
              text: { en: "holiday", ar: "عطلة" },
              icon: "🎊",
              speakText: { en: "holiday", ar: "عطلة" },
            },
            {
              text: { en: "festival", ar: "مهرجان" },
              icon: "🎪",
              speakText: { en: "festival", ar: "مهرجان" },
            },
            {
              text: { en: "wedding", ar: "زفاف" },
              icon: "💒",
              speakText: { en: "wedding", ar: "زفاف" },
            },
            {
              text: { en: "graduation", ar: "تخرج" },
              icon: "🎓",
              speakText: { en: "graduation", ar: "تخرج" },
            },
            {
              text: { en: "concert", ar: "حفل موسيقي" },
              icon: "🎵",
              speakText: { en: "concert", ar: "حفل موسيقي" },
            },
            {
              text: { en: "game", ar: "مباراة" },
              icon: "⚽",
              speakText: { en: "game", ar: "مباراة" },
            },
            {
              text: { en: "fun", ar: "مرح" },
              icon: "😄",
              speakText: { en: "fun", ar: "مرح" },
            },
            {
              text: { en: "happy", ar: "سعيد" },
              icon: "😊",
              speakText: { en: "happy", ar: "سعيد" },
            },
            {
              text: { en: "exciting", ar: "مثير" },
              icon: "🤩",
              speakText: { en: "exciting", ar: "مثير" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "me", ar: "لي" },
              { en: "us", ar: "لنا" },
              { en: "them", ar: "لهم" },
              { en: "my", ar: "لي" },
              { en: "your", ar: "لك" },
              { en: "our", ar: "لنا" },
            ],
            verbs: [
              { en: "celebrate", ar: "أحتفل" },
              { en: "enjoy", ar: "أستمتع" },
              { en: "dance", ar: "أرقص" },
              { en: "sing", ar: "أغني" },
              { en: "invite", ar: "أدعو" },
              { en: "attend", ar: "أحضر" },
              { en: "organize", ar: "أنظم" },
              { en: "prepare", ar: "أحضر" },
              { en: "decorate", ar: "أزين" },
              { en: "participate", ar: "أشارك" },
              { en: "witness", ar: "أشهد" },
              { en: "remember", ar: "أتذكر" },
            ],
            nouns: [
              { en: "event", ar: "مناسبة" },
              { en: "party", ar: "حفلة" },
              { en: "celebration", ar: "احتفال" },
              { en: "holiday", ar: "عطلة" },
              { en: "festival", ar: "مهرجان" },
              { en: "gathering", ar: "تجمع" },
              { en: "occasion", ar: "مناسبة" },
              { en: "ceremony", ar: "حفل" },
              { en: "performance", ar: "أداء" },
              { en: "show", ar: "عرض" },
              { en: "competition", ar: "مسابقة" },
              { en: "tradition", ar: "تقليد" },
            ],
            adjectives: [
              { en: "fun", ar: "ممتع" },
              { en: "exciting", ar: "مثير" },
              { en: "happy", ar: "سعيد" },
              { en: "special", ar: "خاص" },
              { en: "big", ar: "كبير" },
              { en: "small", ar: "صغير" },
              { en: "formal", ar: "رسمي" },
              { en: "informal", ar: "غير رسمي" },
              { en: "traditional", ar: "تقليدي" },
              { en: "modern", ar: "حديث" },
              { en: "annual", ar: "سنوي" },
              { en: "regular", ar: "منتظم" },
            ],
            other: [
              { en: "for", ar: "لـ" },
              { en: "with", ar: "مع" },
              { en: "at", ar: "في" },
              { en: "on", ar: "على" },
              { en: "to", ar: "إلى" },
              { en: "from", ar: "من" },
              { en: "during", ar: "خلال" },
              { en: "before", ar: "قبل" },
              { en: "after", ar: "بعد" },
              { en: "while", ar: "بينما" },
              { en: "because", ar: "لأن" },
              { en: "so", ar: "لذلك" },
            ],
          },
        },
        Questions: {
          title: { en: "Questions", ar: "الأسئلة" },
          color: "category-13",
          words: [
            {
              text: { en: "what", ar: "ماذا" },
              icon: "❓",
              speakText: { en: "what", ar: "ماذا" },
            },
            {
              text: { en: "where", ar: "أين" },
              icon: "🗺️",
              speakText: { en: "where", ar: "أين" },
            },
            {
              text: { en: "when", ar: "متى" },
              icon: "⏰",
              speakText: { en: "when", ar: "متى" },
            },
            {
              text: { en: "why", ar: "لماذا" },
              icon: "🤔",
              speakText: { en: "why", ar: "لماذا" },
            },
            {
              text: { en: "how", ar: "كيف" },
              icon: "❓",
              speakText: { en: "how", ar: "كيف" },
            },
            {
              text: { en: "who", ar: "من" },
              icon: "👤",
              speakText: { en: "who", ar: "من" },
            },
            {
              text: { en: "which", ar: "أي" },
              icon: "🔍",
              speakText: { en: "which", ar: "أي" },
            },
            {
              text: { en: "can", ar: "هل يمكن" },
              icon: "✅",
              speakText: { en: "can", ar: "هل يمكن" },
            },
            {
              text: { en: "may", ar: "هل يمكنني" },
              icon: "🙏",
              speakText: { en: "may", ar: "هل يمكنني" },
            },
            {
              text: { en: "will", ar: "هل سوف" },
              icon: "🔮",
              speakText: { en: "will", ar: "هل سوف" },
            },
            {
              text: { en: "do", ar: "هل" },
              icon: "❓",
              speakText: { en: "do", ar: "هل" },
            },
            {
              text: { en: "is", ar: "هل" },
              icon: "❓",
              speakText: { en: "is", ar: "هل" },
            },
          ],
          suggestions: {
            pronouns: [
              { en: "I", ar: "أنا" },
              { en: "you", ar: "أنت" },
              { en: "he", ar: "هو" },
              { en: "she", ar: "هي" },
              { en: "we", ar: "نحن" },
              { en: "they", ar: "هم" },
              { en: "who", ar: "من" },
              { en: "what", ar: "ماذا" },
              { en: "which", ar: "أي" },
              { en: "whose", ar: "لمن" },
            ],
            verbs: [
              { en: "do", ar: "يفعل" },
              { en: "can", ar: "يستطيع" },
              { en: "will", ar: "سوف" },
              { en: "may", ar: "يمكن" },
              { en: "should", ar: "يجب" },
              { en: "would", ar: "سوف" },
              { en: "could", ar: "يمكن" },
              { en: "might", ar: "قد" },
              { en: "must", ar: "يجب" },
              { en: "shall", ar: "سوف" },
              { en: "have", ar: "يملك" },
              { en: "need", ar: "يحتاج" },
            ],
            nouns: [
              { en: "question", ar: "سؤال" },
              { en: "answer", ar: "إجابة" },
              { en: "information", ar: "معلومات" },
              { en: "help", ar: "مساعدة" },
              { en: "explanation", ar: "شرح" },
              { en: "reason", ar: "سبب" },
              { en: "purpose", ar: "غرض" },
              { en: "meaning", ar: "معنى" },
              { en: "detail", ar: "تفصيل" },
              { en: "fact", ar: "حقيقة" },
              { en: "truth", ar: "حقيقة" },
              { en: "idea", ar: "فكرة" },
            ],
            adjectives: [
              { en: "what", ar: "ماذا" },
              { en: "which", ar: "أي" },
              { en: "how many", ar: "كم" },
              { en: "how much", ar: "كم" },
              { en: "whose", ar: "لمن" },
              { en: "what kind", ar: "أي نوع" },
              { en: "what time", ar: "أي وقت" },
              { en: "what color", ar: "أي لون" },
              { en: "what size", ar: "أي حجم" },
              { en: "how long", ar: "كم من الوقت" },
              { en: "how far", ar: "كم المسافة" },
              { en: "how often", ar: "كم مرة" },
            ],
            other: [
              { en: "?", ar: "؟" },
              { en: "please", ar: "من فضلك" },
              { en: "thank you", ar: "شكرًا" },
              { en: "I don't know", ar: "لا أعرف" },
              { en: "I don't understand", ar: "لا أفهم" },
              { en: "can you repeat", ar: "هل يمكنك التكرار" },
              { en: "can you explain", ar: "هل يمكنك الشرح" },
              { en: "what does it mean", ar: "ماذا يعني" },
              { en: "how do you say", ar: "كيف تقول" },
              { en: "where is", ar: "أين هو" },
              { en: "when is", ar: "متى هو" },
              { en: "why is", ar: "لماذا هو" },
            ],
          },
        },
      };

      // Initialize the app
      document.addEventListener("DOMContentLoaded", function () {
        updateLanguage();
        setupEventListeners();
      });

      // Set up event listeners
      function setupEventListeners() {
        // Language toggle
        document
          .getElementById("languageBtn")
          .addEventListener("click", toggleLanguage);

        // Settings button
        document
          .getElementById("settingsBtn")
          .addEventListener("click", showSettings);

        // Speak button
        document
          .getElementById("speakBtn")
          .addEventListener("click", speakMessage);

        // Clear button
        document
          .getElementById("clearBtn")
          .addEventListener("click", clearMessage);

        // Category buttons - FIXED: All categories now working
        document.querySelectorAll(".category-button").forEach((button) => {
          button.addEventListener("click", function () {
            const categoryName = this.getAttribute("data-category");
            showCategoryDetail(categoryName);
          });
        });

        // Keyboard button
        document
          .getElementById("keyboardInstructionBtn")
          .addEventListener("click", showKeyboard);

        // Close modal buttons
        document
          .getElementById("closeKeyboardModal")
          .addEventListener("click", hideKeyboard);

        document
          .getElementById("closeSettingsModal")
          .addEventListener("click", hideSettings);

        // Apply customization button
        document
          .getElementById("applyCustomization")
          .addEventListener("click", applyCustomization);

        // Voice selection
        document.querySelectorAll(".voice-option").forEach((option) => {
          option.addEventListener("click", function () {
            document.querySelectorAll(".voice-option").forEach((opt) => {
              opt.classList.remove("active");
            });
            this.classList.add("active");
            selectedVoice = this.getAttribute("data-voice");
          });
        });

        // Color dropdown
        document
          .getElementById("buttonColorDropdown")
          .addEventListener("change", function () {
            customButtonColor = this.value;
          });
      }

      // Show keyboard modal
      function showKeyboard() {
        const modal = document.getElementById("keyboardModal");
        const content = document.getElementById("keyboardContent");
        const lang = languageData[currentLanguage];

        // Generate keyboard based on current language
        const layout = keyboardLayouts[currentLanguage];
        let keyboardHTML = "";

        // Add display area for typed text
        keyboardHTML += `<div class="keyboard-display" style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px; min-height: 50px; border: 2px solid #e0e0e0; font-size: 18px; text-align: center;">${
          keyboardMessage || lang.messagePlaceholder
        }</div>`;

        layout.forEach((row) => {
          keyboardHTML += '<div class="keyboard-row">';
          row.forEach((key) => {
            keyboardHTML += `<div class="keyboard-key" data-key="${key}">${key}</div>`;
          });
          keyboardHTML += "</div>";
        });

        // Add space and special keys with translated labels
        keyboardHTML += `
          <div class="keyboard-row">
            <div class="keyboard-key keyboard-special" data-key="space">${lang.space}</div>
            <div class="keyboard-key keyboard-special" data-key="backspace">⌫</div>
            <div class="keyboard-key keyboard-special" data-key="enter">${lang.enter}</div>
          </div>
        `;

        content.innerHTML = keyboardHTML;

        // Add event listeners to keys
        document.querySelectorAll(".keyboard-key").forEach((key) => {
          key.addEventListener("click", function () {
            const keyValue = this.getAttribute("data-key");
            handleKeyPress(keyValue);
          });
        });

        modal.style.display = "flex";
      }

      // Hide keyboard modal
      function hideKeyboard() {
        document.getElementById("keyboardModal").style.display = "none";
      }

      // Handle keyboard key presses
      function handleKeyPress(key) {
        const lang = languageData[currentLanguage];

        if (key === "space") {
          keyboardMessage += " ";
        } else if (key === "backspace") {
          if (keyboardMessage.length > 0) {
            keyboardMessage = keyboardMessage.slice(0, -1);
          }
        } else if (key === "enter") {
          // When Enter is pressed, transfer the keyboard message to the main message
          if (keyboardMessage.trim() !== "") {
            currentMessage = keyboardMessage;
            document.getElementById("messageText").textContent = currentMessage;
            keyboardMessage = "";
            hideKeyboard();
          }
        } else {
          keyboardMessage += key;
        }

        // Update the keyboard display
        document.querySelector("#keyboardModal .keyboard-display").textContent =
          keyboardMessage || lang.messagePlaceholder;
      }

      // Show settings modal
      function showSettings() {
        document.getElementById("settingsModal").style.display = "flex";
      }

      // Hide settings modal
      function hideSettings() {
        document.getElementById("settingsModal").style.display = "none";
      }

      // Apply customization
      function applyCustomization() {
        const buttonStyle = document.getElementById("buttonStyle").value;
        const buttonSize = document.getElementById("buttonSize").value;
        const fontFamily = document.getElementById("fontFamily").value;

        // Apply button style only to category buttons
        if (buttonStyle === "oval") {
          document.documentElement.style.setProperty(
            "--category-button-radius",
            "50%"
          );
        } else if (buttonStyle === "pill") {
          document.documentElement.style.setProperty(
            "--category-button-radius",
            "50px"
          );
        } else if (buttonStyle === "square") {
          document.documentElement.style.setProperty(
            "--category-button-radius",
            "4px"
          );
        } else {
          document.documentElement.style.setProperty(
            "--category-button-radius",
            "12px"
          );
        }

        // Apply button size (font size)
        if (buttonSize === "small") {
          document.documentElement.style.setProperty(
            "--button-padding",
            "8px 12px"
          );
          document.documentElement.style.setProperty("--font-size", "14px");
        } else if (buttonSize === "large") {
          document.documentElement.style.setProperty(
            "--button-padding",
            "16px 24px"
          );
          document.documentElement.style.setProperty("--font-size", "22px");
        } else {
          document.documentElement.style.setProperty(
            "--button-padding",
            "12px 16px"
          );
          document.documentElement.style.setProperty("--font-size", "18px");
        }

        document.documentElement.style.setProperty("--font-family", fontFamily);

        // Apply custom button color only if user selected one
        if (customButtonColor) {
          document.documentElement.style.setProperty(
            "--button-color",
            customButtonColor
          );

          // Apply to category buttons
          document.querySelectorAll(".category-button").forEach((button) => {
            button.style.background = `linear-gradient(135deg, ${customButtonColor}, ${adjustColor(
              customButtonColor,
              -20
            )})`;
          });

          // Apply to word buttons in category detail
          document.querySelectorAll(".word-button").forEach((button) => {
            button.style.background = `linear-gradient(135deg, ${customButtonColor}, ${adjustColor(
              customButtonColor,
              -20
            )})`;
          });
        }

        hideSettings();
        alert(
          currentLanguage === "en"
            ? "Customization applied successfully!"
            : "تم تطبيق التخصيص بنجاح!"
        );
      }

      // Helper function to adjust color brightness
      function adjustColor(color, amount) {
        return (
          "#" +
          color
            .replace(/^#/, "")
            .replace(/../g, (color) =>
              (
                "0" +
                Math.min(
                  255,
                  Math.max(0, parseInt(color, 16) + amount)
                ).toString(16)
              ).substr(-2)
            )
        );
      }

      // Show category detail - FIXED: All categories now working
      function showCategoryDetail(categoryName) {
        const category = categoryData[categoryName];
        if (!category) {
          console.log("Category not found:", categoryName);
          return;
        }

        currentView = "category";
        currentCategoryColor = category.color;
        currentCategory = categoryName;

        // Clear message when switching categories
        currentMessage = "";
        const lang = languageData[currentLanguage];
        document.getElementById("messageText").textContent =
          lang.messagePlaceholder;

        // Hide main page and instruction bar
        document.getElementById("mainPage").style.display = "none";
        document.querySelector(".instruction-bar").style.display = "none";

        // Show category detail
        const categoryDetail = document.getElementById("categoryDetail");
        categoryDetail.style.display = "block";

        // Build category detail HTML with suggestions
        const detailHTML = `
                <div class="category-header">
                    <button class="back-button" id="backButton">
                        <i class="fas fa-arrow-left"></i> ${
                          languageData[currentLanguage].back
                        }
                    </button>
                    <div class="category-title">${
                      category.title[currentLanguage]
                    }</div>
                </div>
                <div class="category-instruction">${
                  languageData[currentLanguage].tapWords
                }</div>
                <div class="words-grid">
                    ${category.words
                      .map(
                        (word) => `
                        <button class="word-button ${currentCategoryColor}">
                            <div class="word-icon">${word.icon}</div>
                            <div>${word.text[currentLanguage]}</div>
                        </button>
                    `
                      )
                      .join("")}
                </div>
                <div class="ai-suggestions">
                    <div class="ai-suggestions-title">${
                      languageData[currentLanguage].suggestions
                    }</div>
                    ${generateSuggestionsHTML(category)}
                </div>
            `;

        categoryDetail.innerHTML = detailHTML;

        // Add event listeners to the new buttons
        setupCategoryDetailListeners();
      }

      // Generate suggestions HTML for a category
      function generateSuggestionsHTML(category) {
        const lang = languageData[currentLanguage];
        let suggestionsHTML = "";

        if (category.suggestions) {
          // Pronouns
          if (
            category.suggestions.pronouns &&
            category.suggestions.pronouns.length > 0
          ) {
            suggestionsHTML += `
              <div class="suggestion-group">
                <div class="suggestion-group-header">
                  <strong>${lang.pronouns}</strong>
                </div>
                <div class="ai-suggestions-grid">
                  ${category.suggestions.pronouns
                    .map(
                      (word) => `
                    <button class="ai-suggestion-btn" data-text="${word[currentLanguage]}">
                      ${word[currentLanguage]}
                    </button>
                  `
                    )
                    .join("")}
                </div>
              </div>
            `;
          }

          // Verbs
          if (
            category.suggestions.verbs &&
            category.suggestions.verbs.length > 0
          ) {
            suggestionsHTML += `
              <div class="suggestion-group">
                <div class="suggestion-group-header">
                  <strong>${lang.verbs}</strong>
                </div>
                <div class="ai-suggestions-grid">
                  ${category.suggestions.verbs
                    .map(
                      (word) => `
                    <button class="ai-suggestion-btn" data-text="${word[currentLanguage]}">
                      ${word[currentLanguage]}
                    </button>
                  `
                    )
                    .join("")}
                </div>
              </div>
            `;
          }

          // Nouns
          if (
            category.suggestions.nouns &&
            category.suggestions.nouns.length > 0
          ) {
            suggestionsHTML += `
              <div class="suggestion-group">
                <div class="suggestion-group-header">
                  <strong>${lang.nouns}</strong>
                </div>
                <div class="ai-suggestions-grid">
                  ${category.suggestions.nouns
                    .map(
                      (word) => `
                    <button class="ai-suggestion-btn" data-text="${word[currentLanguage]}">
                      ${word[currentLanguage]}
                    </button>
                  `
                    )
                    .join("")}
                </div>
              </div>
            `;
          }

          // Adjectives
          if (
            category.suggestions.adjectives &&
            category.suggestions.adjectives.length > 0
          ) {
            suggestionsHTML += `
              <div class="suggestion-group">
                <div class="suggestion-group-header">
                  <strong>${lang.adjectives}</strong>
                </div>
                <div class="ai-suggestions-grid">
                  ${category.suggestions.adjectives
                    .map(
                      (word) => `
                    <button class="ai-suggestion-btn" data-text="${word[currentLanguage]}">
                      ${word[currentLanguage]}
                    </button>
                  `
                    )
                    .join("")}
                </div>
              </div>
            `;
          }

          // Other words
          if (
            category.suggestions.other &&
            category.suggestions.other.length > 0
          ) {
            suggestionsHTML += `
              <div class="suggestion-group">
                <div class="suggestion-group-header">
                  <strong>${lang.other}</strong>
                </div>
                <div class="ai-suggestions-grid">
                  ${category.suggestions.other
                    .map(
                      (word) => `
                    <button class="ai-suggestion-btn" data-text="${word[currentLanguage]}">
                      ${word[currentLanguage]}
                    </button>
                  `
                    )
                    .join("")}
                </div>
              </div>
            `;
          }
        }

        return suggestionsHTML;
      }

      // Set up event listeners for category detail page
      function setupCategoryDetailListeners() {
        // Back button
        const backButton = document.getElementById("backButton");
        if (backButton) {
          backButton.addEventListener("click", goBackToMain);
        }

        // Word buttons
        document.querySelectorAll(".word-button").forEach((button) => {
          button.addEventListener("click", function () {
            // Remove active class from all buttons
            document.querySelectorAll(".word-button").forEach((btn) => {
              btn.classList.remove("active");
            });
            // Add active class to clicked button
            this.classList.add("active");

            const wordText = this.querySelector("div:last-child").textContent;
            addWordToMessage(wordText);
          });
        });

        // Suggestion buttons
        document.querySelectorAll(".ai-suggestion-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const wordText = this.getAttribute("data-text");
            addWordToMessage(wordText);
          });
        });
      }

      // Add word to message
      function addWordToMessage(word) {
        const lang = languageData[currentLanguage];

        if (currentMessage && currentMessage !== lang.messagePlaceholder) {
          currentMessage += " " + word;
        } else {
          currentMessage = word;
        }

        // Update message display
        const messageText = document.getElementById("messageText");
        messageText.textContent = currentMessage;
      }

      // Clear message
      function clearMessage() {
        currentMessage = "";
        const lang = languageData[currentLanguage];
        document.getElementById("messageText").textContent =
          lang.messagePlaceholder;

        // Remove active class from all buttons
        document.querySelectorAll(".word-button").forEach((btn) => {
          btn.classList.remove("active");
        });
      }

      // Speak message
      function speakMessage() {
        if (
          !currentMessage ||
          currentMessage === languageData[currentLanguage].messagePlaceholder
        ) {
          alert(
            currentLanguage === "en"
              ? "Please build a message first."
              : "يرجى بناء رسالة أولاً."
          );
          return;
        }

        // Check if browser supports speech synthesis
        if ("speechSynthesis" in window) {
          const utterance = new SpeechSynthesisUtterance(currentMessage);

          // Set language and voice properties based on selection
          if (currentLanguage === "ar") {
            utterance.lang = "ar-SA";
            if (selectedVoice === "boy") {
              utterance.rate = 0.9;
              utterance.pitch = 1.1;
            } else {
              utterance.rate = 1.0;
              utterance.pitch = 1.3;
            }
          } else {
            utterance.lang = "en-US";
            if (selectedVoice === "boy") {
              utterance.rate = 0.9;
              utterance.pitch = 1.1;
            } else {
              utterance.rate = 1.0;
              utterance.pitch = 1.3;
            }
          }

          // Stop any current speech
          speechSynthesis.cancel();

          // Speak the message
          speechSynthesis.speak(utterance);
        } else {
          alert(
            currentLanguage === "en"
              ? "Speech synthesis is not supported in your browser."
              : "ميزة الكلام غير مدعومة في متصفحك."
          );
        }
      }

      // Toggle language
      function toggleLanguage() {
        currentLanguage = currentLanguage === "en" ? "ar" : "en";
        updateLanguage();
      }

      // Update all text elements based on current language
      function updateLanguage() {
        const lang = languageData[currentLanguage];

        // Update UI elements
        document.getElementById("appName").textContent = lang.appName;
        document.getElementById("appDescription").textContent =
          lang.appDescription;
        document.getElementById("settingsText").textContent = lang.settings;
        document.getElementById("clearText").textContent = lang.clear;
        document.getElementById("speakText").textContent = lang.speak;
        document.getElementById("instructionText").textContent =
          lang.instruction;
        document.getElementById("foodText").textContent = lang.food;
        document.getElementById("drinkText").textContent = lang.drink;
        document.getElementById("bathroomText").textContent = lang.bathroom;
        document.getElementById("feelingsText").textContent = lang.feelings;
        document.getElementById("peopleText").textContent = lang.people;
        document.getElementById("activitiesText").textContent = lang.activities;
        document.getElementById("placesText").textContent = lang.places;
        document.getElementById("bodyText").textContent = lang.body;
        document.getElementById("timeText").textContent = lang.time;
        document.getElementById("bahrainText").textContent = lang.bahrain;
        document.getElementById("schoolText").textContent = lang.school;
        document.getElementById("eventsText").textContent = lang.events;
        document.getElementById("questionsCatText").textContent =
          lang.questionsCat;
        document.getElementById("footerText").textContent = lang.footer;
        document.getElementById("languageBtn").textContent = lang.langBtn;
        document.getElementById("keyboardText").textContent = lang.keyboard;
        document.getElementById("keyboardModalTitle").textContent =
          lang.keyboardModalTitle;
        document.getElementById("settingsModalTitle").textContent =
          lang.settingsModalTitle;
        document.getElementById("applyText").textContent = lang.apply;

        // Update settings modal labels
        document.getElementById("buttonStyleLabel").textContent =
          lang.buttonStyle;
        document.getElementById("buttonSizeLabel").textContent =
          lang.buttonSize;
        document.getElementById("fontFamilyLabel").textContent =
          lang.fontFamily;
        document.getElementById("buttonColorLabel").textContent =
          lang.buttonColor;
        document.getElementById("voiceSelectionLabel").textContent =
          lang.voiceSelection;
        document.getElementById("boyVoiceText").textContent = lang.boyVoice;
        document.getElementById("girlVoiceText").textContent = lang.girlVoice;

        // Update message placeholder if empty
        if (
          currentMessage === "" ||
          currentMessage === "Your message will appear here" ||
          currentMessage === "Your message will appear here..." ||
          currentMessage === "ستظهر رسالتك هنا"
        ) {
          document.getElementById("messageText").textContent =
            lang.messagePlaceholder;
        }

        // Update category detail page if it's currently visible
        if (currentView === "category" && currentCategory) {
          refreshCategoryDetail();
        }
      }

      // Refresh category detail
      function refreshCategoryDetail() {
        if (!currentCategory) return;

        const category = categoryData[currentCategory];
        if (!category) return;

        const categoryDetail = document.getElementById("categoryDetail");
        const detailHTML = `
                <div class="category-header">
                    <button class="back-button" id="backButton">
                        <i class="fas fa-arrow-left"></i> ${
                          languageData[currentLanguage].back
                        }
                    </button>
                    <div class="category-title">${
                      category.title[currentLanguage]
                    }</div>
                </div>
                <div class="category-instruction">${
                  languageData[currentLanguage].tapWords
                }</div>
                <div class="words-grid">
                    ${category.words
                      .map(
                        (word) => `
                        <button class="word-button ${currentCategoryColor}">
                            <div class="word-icon">${word.icon}</div>
                            <div>${word.text[currentLanguage]}</div>
                        </button>
                    `
                      )
                      .join("")}
                </div>
                <div class="ai-suggestions">
                    <div class="ai-suggestions-title">${
                      languageData[currentLanguage].suggestions
                    }</div>
                    ${generateSuggestionsHTML(category)}
                </div>
            `;

        categoryDetail.innerHTML = detailHTML;

        // Add event listeners to the new buttons
        setupCategoryDetailListeners();
      }

      // Go back to main page
      function goBackToMain() {
        currentView = "main";

        // Show main page elements
        document.getElementById("mainPage").style.display = "block";
        document.querySelector(".instruction-bar").style.display = "block";

        // Hide category detail
        document.getElementById("categoryDetail").style.display = "none";
        document.getElementById("categoryDetail").innerHTML = "";
      }
    </script>
  </body>
</html>
